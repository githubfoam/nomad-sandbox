---
dist: bionic
sudo: required
env:
  global:
    - VAGRANT_VERSION="2.2.2"
    - PATH=$HOME/bin:$PATH
services:
  - docker
branches:
  only:
    - dev
before_install:
   - sudo apt-get update
   #- sudo apt-get install unzip curl -y
   - wget https://releases.hashicorp.com/vagrant/${VAGRANT_VERSION}/vagrant_${VAGRANT_VERSION}_linux_amd64.zip
   - unzip -d ~/bin vagrant_${VAGRANT_VERSION}_linux_amd64.zip
jobs:
  include:
    - stage: stage 1
      script:
        - echo "stage 1"
        - docker --version
    - stage: stage 2
      script:
        - echo "stage 2"
        - vagrant --version
after_success:
    - stage: Workflow ends
      script:
        - echo "success"

notifications:
  #email: false
   email:
     on_success: never # default: change
     on_failure: always # default: always
